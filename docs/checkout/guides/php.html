<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from stripe.com/docs/checkout/guides/php by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 09 Feb 2015 07:33:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>PHP Checkout Guide</title>
    <link rel="stylesheet" type="text/css" href="../../../assets/site-ea99019a1bc27872a48d1149a4785b01.css" media="screen" />
    <script type="text/javascript">
        var _sf_startpt=(new Date()).getTime()
        var APIValues = {};
    </script>
    <script type="application/json" id="mixpanel_config">{&quot;identifier&quot;:&quot;eb71b6171a4f7ed97de9b7a0395b7ca5&quot;}</script>
<script type="application/json" id="analytics_config">{}</script>
<script src="../../../../www.googleadservices.com/pagead/f.txt"></script>
<script src="../../../assets/external_analytics-a9e3d39cd6110aa8c184d9c1f2e5777e.js"></script>
<script src="../../../assets/qframe-cb903dc9166e266dc7d9f11d44f5e81a.js"></script>

    <link rel="shortcut icon" href="https://stripe.com/favicon.ico">

    <!--[if lt IE 9]>
    <script src="/assets/html5shiv-17761200a17ebcb716dda86cca6d2472.js"></script>
    <![endif]-->
    <script type="text/javascript" src="../../../../use.typekit.net/gbh7uto.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    
</head>
<body id="documentation">

  <div id="header">
    <h1><a href="https://stripe.com/">Stripe</a></h1>
    <div class="navigation">
    <div class="signin"><a id='signin' href="https://dashboard.stripe.com/login"><span>Sign In</span></a></div>

  <ul class="global">
    <li><a href="https://stripe.com/docs" class="selected">Documentation</a></li>
    <li><a href="https://support.stripe.com/">Help &amp; Support</a></li>
  </ul>
</div>

  </div><!-- #header -->

  <section id="doc">

    <nav>

      <h1 class="getting-started">Documentation</h1>
      <ul>
        <li class="unselected">
          <a href="https://stripe.com/docs">Getting Started</a>
        </li>
          <li class="unselected sub">
            <a href="../../tutorials/checkout.html">Embedded Form</a>
          </li>
          <li class="unselected sub">
            <a href="../../tutorials/forms.html">Custom Forms</a>
          </li>
          <li class="unselected sub">
            <a href="../../mobile.html">Mobile Apps</a>
          </li>

        <li class="unselected">
          <a href="../../tutorials/charges.html">Charging Cards</a>
        </li>

        <li class="unselected">
          <a href="../../tutorials/sending-transfers.html">Sending Transfers</a>
        </li>

        <li class="unselected">
          <a href="../../tutorials/dashboard.html">Your Account</a>
        </li>
      </ul>

      <h1 class="references">References</h1>
      <ul>
        <li class="unselected">
          <a href="../../stripe.html">Stripe.js</a>
        </li>
        <li class="unselected">
          <a href="../../checkout.html">Checkout</a>
        </li>
        <li class="unselected">
          <a href="../../webhooks.html">Webhooks</a>
        </li>
        <li class="unselected">
          <a href="../../fraud.html">Fraud Protection</a>
        </li>
        <li class="unselected">
          <a href="../../testing.html">Testing</a>
        </li>
        <li class="unselected">
          <a href="../../examples.html">Examples</a>
        </li>
        <li class="unselected">
          <a href="../../upgrades.html">API Upgrades</a>
        </li>
        <li class="unselected">
          <a href="../../libraries.html">API Libraries</a>
        </li>
        <li class="unselected">
          <a href="../../guides/file-upload.html">File Upload Guide</a>
        </li>
        <li class="unselected">
          <a href="../../api.html" class="external" target="_blank">
            Full API Reference
          </a>
        </li>
      </ul>

      <h1 class="subscriptions">Subscriptions</h1>
      <ul>
        <li class="unselected">
          <a href="../../subscriptions.html">Overview</a>
        </li>
        <li class="unselected">
          <a href="../../tutorials/subscriptions.html">Getting Started</a>
        </li>
        <li class="unselected">
          <a href="../../guides/subscriptions.html">Integration Guide</a>
        </li>
      </ul>

      <h1 class="connect">Connect</h1>
      <ul>
        <li class="unselected">
          <a href="../../connect.html">Overview</a>
        </li>
        <li class="unselected">
          <a href="../../connect/getting-started.html">Getting Started</a>
        </li>
        <li class="unselected">
          <a href="../../connect/oauth.html">Integrating OAuth</a>
        </li>
        <li class="unselected">
          <a href="../../connect/collecting-fees.html">Collecting Fees</a>
        </li>
        <li class="unselected">
          <a href="../../connect/shared-customers.html">Shared Customers</a>
        </li>
        <li class="unselected">
          <a href="../../connect/reference.html">Reference</a>
        </li>
      </ul>

      <h1 class="disputes">Disputes</h1>
      <ul>
        <li class="unselected">
          <a href="https://stripe.com/help/disputes-overview">Overview</a>
        </li>
        <li class="unselected">
          <a href="../../guides/dispute-evidence.html">Submitting Evidence</a>
        </li>
        <li class="unselected">
          <a href="https://stripe.com/help/dispute-types">Dispute Types</a>
        </li>
        <li class="unselected">
          <a href="https://stripe.com/help/disputes">FAQ</a>
        </li>
      </ul>


      <h1 class="faq"><abbr title="Frequently Asked Questions">FAQ</abbr></h1>
      <ul>
        <li class="unselected">
          <a href="https://stripe.com/help/transfers">Getting Paid</a>
        </li>
        <li class="unselected">
          <a href="https://stripe.com/help/ssl">SSL/TLS</a>
        </li>
        <li class="unselected">
          <a href="https://stripe.com/help/security">Security</a>
        </li>
      </ul>

      <h1 class="more">More</h1>
      <ul>
        <li class="unselected">
          <a href="https://stripe.com/help/contact">Contact</a>
        </li>
        <li class="unselected">
          <a href="https://stripe.com/global">Global Users</a>
        </li>
        <li class="unselected">
          <a href="https://stripe.com/gallery">Gallery</a>
        </li>
        <li class="last unselected">
          <a href="../../integrations.html">Integrations</a>
        </li>
      </ul>

    </nav>

    <section id="content">
      <section id="details">

  <header>
    <h1>Using Stripe’s Checkout and PHP</h1>
    <p>This tutorial will help you integrate Stripe and PHP</p>
  </header>

  <article>

    <p>We’re going to create a simple example demonstrating how to accept payments using Stripe’s <a href="../../checkout.html">Checkout</a> &amp; PHP on the server side.</p>

    <p>You’ll need to have the following prerequisites before we go any further:</p>

    <ul>
      <li>A PHP &gt;= 5.2 environment</li>
      <li>The <a href="https://github.com/stripe/stripe-php/releases">Stripe PHP library</a></li>
    </ul>

    <p>Let’s create a file called <code>config.php</code>, where we’re going to set up some initial configuration.</p>

    <section class="code-example">
      <div class="terminal-wrap">
        <pre><code><span class="highlight_js php">&lt;?php
require_once(&#39;./lib/Stripe.php&#39;);

$stripe = array(
  &quot;secret_key&quot;      =&gt; &quot;sk_test_BQokikJOvBiI2HlWgH4olfQ2&quot;,
  &quot;publishable_key&quot; =&gt; &quot;pk_test_6pRNASCoBOKtIshFeQd4XMUh&quot;
);

Stripe::setApiKey($stripe[&#39;secret_key&#39;]);
?&gt;</span></code></pre>
      </div>
    </section>

    <p>Notice we’re requiring Stripe’s PHP library, which will need to be unpacked and available relative to our configuration file.</p>

    <p>Also note that we’ve placed your <strong>test</strong> API keys in the example above. You’ll need to swap it out with your <strong>live</strong> keys in production. You can see all your keys in <a href="https://dashboard.stripe.com/account/apikeys">your dashboard</a>.</p>

    <p>Next let’s create the form that’s going to do the charging. We’re going to use <a href="../../checkout.html">Stripe’s Checkout</a>, which will take care of form validation, error handling and sending credit card numbers securely to Stripe.</p>

    <section class="code-example">
      <div class="terminal-wrap">
        <pre><code><span class="highlight_js php">&lt;?php require_once(&#39;./config.php&#39;); ?&gt;

&lt;form action=&quot;charge.php&quot; method=&quot;post&quot;&gt;
  &lt;script src=&quot;https://checkout.stripe.com/checkout.js&quot; class=&quot;stripe-button&quot;
          data-key=&quot;&lt;?php echo $stripe[&#39;publishable_key&#39;]; ?&gt;&quot;
          data-amount=&quot;5000&quot; data-description=&quot;One year&#39;s subscription&quot;&gt;&lt;/script&gt;
&lt;/form&gt;</span></code></pre>
      </div>
    </section>

    <p>Notice we’re passing through an amount and description. These are just for display purposes only, they don’t get passed onto Stripe. Instead, once the user completes the Checkout’s overlay, a hidden field will be inserted into the form called <code>stripeToken</code>, and then the form submitted.</p>

    <p>In <code>charge.php</code>, we can use the <code>stripeToken</code> POST parameter to actually charge the card:</p>

    <section class="code-example">
      <div class="terminal-wrap">
        <pre><code><span class="highlight_js php">&lt;?php
  require_once(dirname(__FILE__) . &#39;/config.php&#39;);

  $token  = $_POST[&#39;stripeToken&#39;];

  $customer = Stripe_Customer::create(array(
      &#39;email&#39; =&gt; &#39;customer@example.com&#39;,
      &#39;card&#39;  =&gt; $token
  ));

  $charge = Stripe_Charge::create(array(
      &#39;customer&#39; =&gt; $customer-&gt;id,
      &#39;amount&#39;   =&gt; 5000,
      &#39;currency&#39; =&gt; &#39;usd&#39;
  ));

  echo &#39;&lt;h1&gt;Successfully charged $50.00!&lt;/h1&gt;&#39;;
?&gt;</span></code></pre>
      </div>
    </section>

    <p>And that’s it! Couldn’t be more simple. You can find the full source code for this tutorial <a href="https://gist.github.com/2f110e12237b4d83ae8c">here</a>.</p>

  </article>
</section>
    </section>

  </section><!-- #documentation -->

  <div id="footer">
    <div class="country-dropdown-view">
        <a class="select">
            <span>
                <img src="../../../img/flags/ch.png" width="23" height="17" data-hires="true" />
                <strong>Switzerland</strong>
            </span>
        </a>

        <div class="popover">
            <div class="arrow"></div>
            <h4>Select your Country</h4>
            <ul>
                    <li>
                        <a href="https://stripe.com/country?country=AU&amp;redirect=/docs/checkout/guides/php" >
                            <img src="../../../img/flags/au.png" width="23" height="17" data-hires="true" />
                            <span>Australia</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stripe.com/country?country=CA&amp;redirect=/docs/checkout/guides/php" >
                            <img src="../../../img/flags/ca.png" width="23" height="17" data-hires="true" />
                            <span>Canada</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stripe.com/country?country=GB&amp;redirect=/docs/checkout/guides/php" >
                            <img src="../../../img/flags/gb.png" width="23" height="17" data-hires="true" />
                            <span>United Kingdom</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stripe.com/country?country=IE&amp;redirect=/docs/checkout/guides/php" >
                            <img src="../../../img/flags/ie.png" width="23" height="17" data-hires="true" />
                            <span>Ireland</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stripe.com/country?country=US&amp;redirect=/docs/checkout/guides/php" >
                            <img src="../../../img/flags/us.png" width="23" height="17" data-hires="true" />
                            <span>United States</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stripe.com/country?country=AT&amp;redirect=/docs/checkout/guides/php" >
                            <img src="../../../img/flags/at.png" width="23" height="17" data-hires="true" />
                            <span>Austria</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stripe.com/country?country=BE&amp;redirect=/docs/checkout/guides/php" >
                            <img src="../../../img/flags/be.png" width="23" height="17" data-hires="true" />
                            <span>Belgium</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stripe.com/country?country=DK&amp;redirect=/docs/checkout/guides/php" >
                            <img src="../../../img/flags/dk.png" width="23" height="17" data-hires="true" />
                            <span>Denmark</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stripe.com/country?country=FI&amp;redirect=/docs/checkout/guides/php" >
                            <img src="../../../img/flags/fi.png" width="23" height="17" data-hires="true" />
                            <span>Finland</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stripe.com/country?country=FR&amp;redirect=/docs/checkout/guides/php" >
                            <img src="../../../img/flags/fr.png" width="23" height="17" data-hires="true" />
                            <span>France</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stripe.com/country?country=DE&amp;redirect=/docs/checkout/guides/php" >
                            <img src="../../../img/flags/de.png" width="23" height="17" data-hires="true" />
                            <span>Germany</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stripe.com/country?country=IT&amp;redirect=/docs/checkout/guides/php" >
                            <img src="../../../img/flags/it.png" width="23" height="17" data-hires="true" />
                            <span>Italy</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stripe.com/country?country=LU&amp;redirect=/docs/checkout/guides/php" >
                            <img src="../../../img/flags/lu.png" width="23" height="17" data-hires="true" />
                            <span>Luxembourg</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stripe.com/country?country=NL&amp;redirect=/docs/checkout/guides/php" >
                            <img src="../../../img/flags/nl.png" width="23" height="17" data-hires="true" />
                            <span>Netherlands</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stripe.com/country?country=NO&amp;redirect=/docs/checkout/guides/php" >
                            <img src="../../../img/flags/no.png" width="23" height="17" data-hires="true" />
                            <span>Norway</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stripe.com/country?country=ES&amp;redirect=/docs/checkout/guides/php" >
                            <img src="../../../img/flags/es.png" width="23" height="17" data-hires="true" />
                            <span>Spain</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stripe.com/country?country=SE&amp;redirect=/docs/checkout/guides/php" >
                            <img src="../../../img/flags/se.png" width="23" height="17" data-hires="true" />
                            <span>Sweden</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stripe.com/country?country=CH&amp;redirect=/docs/checkout/guides/php" class="selected">
                            <img src="../../../img/flags/ch.png" width="23" height="17" data-hires="true" />
                            <span>Switzerland</span>
                        </a>
                    </li>
          </ul>
        </div>
    </div>


    <p><a href="https://stripe.com/">&copy; Stripe</a></p>

    <ul>
        <li><a href="https://status.stripe.com/"><span>System Status</span></a></li>
        <li><a href="https://stripe.com/about">About</a></li>
        <li><a href="https://stripe.com/blog"><span>Blog</span></a></li>
        <li><a href="https://stripe.com/jobs"><span>Jobs</span></a></li>
        <li><a href="http://twitter.com/stripe">Twitter</a></li>
    </ul>
    <ul class="lesser">
        <li><a href="https://stripe.com/terms">Terms of Service</a></li>
        <li><a href="https://stripe.com/privacy">Privacy Policy</a></li>
    </ul>
</div>
<div class="country-dropdown-overlay"></div>

    <script src="../../../assets/jquery-47d53801b9f61ca8a21dcc2571aeb3ec.js"></script>
    <script src="../../../assets/shared-3abadcaa3af6e785a085062e45894014.js"></script>

<script src="../../../assets/footer_analytics-6e8fc3677422b1ab0ef7aca057103605.js"></script>

<noscript>
  <div style="display:inline;">
  <img height="1" width="1" style="border-style:none;" alt="" src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/1008370075/?value=0&amp;guid=ON&amp;script=0"/>
  </div>
</noscript>


  

  <script src="../../../assets/documentation-6a120856de81b5511bf1790365f19166.js"></script>
  <script src="../../../assets/highlight.pack-8bd9d9dd93b5ef1f95e855d7641494d2.js"></script>
<script src="../../../assets/highlighter-1268244f129b69592ca48d0f0f198cac.js"></script>

  <script type="text/javascript">
    Analytics.page("docs");
  </script>
</body>

<!-- Mirrored from stripe.com/docs/checkout/guides/php by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 09 Feb 2015 07:33:14 GMT -->
</html>
